install.packages("ggplot2")
w
setwd("C:/data/visualization")
#Data loading
data.housing <-read.csv("BostonHousing.csv")
summary(data.housing)
names(data.housing)[14] <- c("CAT.MEDV") #CAT..medv를 CAT.MEDV로 변경
barplot(count)
#1. simple bar chart
count <- table(data.housing) #count라는 새로운 변수에 값 저장
#1. simple bar chart
count <- table(data.housing$CHAS) #count라는 새로운 변수에 값 저장
barplot(count)
for (i in 1:length(count.df[,2])) total <- total + count.df[i,2]
#barplog using ggplot2
count.df <- as.data.frame(count) #table 형태의 count를 df 형태로 바꿈
total <- 0
for (i in 1:length(count.df[,2])) total <- total + count.df[i,2]
new_col <- data.frame(ratio=c(count.df[,2]/total))
count.df <- cbind(count.df, new_col)
View(new_col)
p <- ggplot(data=count.df, aes(x=var1, y=ratio)) + geom_bar(stat="identity")+xlab('CHAT')+ylab('% of CAT.MEDV')
p <- ggplot2(data=count.df, aes(x=var1, y=ratio)) + geom_bar(stat="identity")+xlab('CHAT')+ylab('% of CAT.MEDV')
library('ggplot2')
p <- ggplot(data=count.df, aes(x=var1, y=ratio)) + geom_bar(stat="identity")+xlab('CHAT')+ylab('% of CAT.MEDV')
p <- ggplot(data=count.df, aes(x=var1, y=ratio)) + geom_bar(stat="identity")+xlab('CHAT')+ylab('% of CAT.MEDV')
p <- ggplot(data=count.df, aes(x=var1, y=ratio)) # x축 y축 값 정의
p + geom_bar(stat="identity")+xlab('CHAT')+ylab('% of CAT.MEDV')
p <- ggplot(data=count.df, aes(x=var1, y=ratio)) # x축 y축 값 정의
p + geom_bar(stat="identity")+xlab('CHAT')+ylab('% of CAT.MEDV')
p <- ggplot(data=count.df, aes(x=var, y=ratio)) # x축 y축 값 정의
p + geom_bar(stat="identity")+xlab('CHAT')+ylab('% of CAT.MEDV')
#Scatter plot
plot(data.housing$LSTAT, data.housing$MEDV, xlab="MEDV", ylab="LSTAT")
ggplot(data=data.housing, aes(x=LSTAT, y=MEDV, color=CAT.MEDV))+geom_point()
#Amtrack passenger data aggregation
am_data <- read.csv("Amtrak.csv")
names(am_data)[1] <- "date" # 첫 번째 col의 이름을 date로 바꿈
names(am_data)[2] <- "passenger"
View(am_data)
View(am_data)
x <- gsub("/", " ", am_date$date) #/를 공백으로 변경
x <- NULL
x <- gsub("/", " ", am_date$date) #/를 공백으로 변경
x <- gsub("/", " ", am_data$date) #/를 공백으로 변경
x <- strsplit(x, " ")
x <- t(matrix(unlist(x),3,159))
x <- strsplit(x, " ") # 공백으로 쪼개기
View(am_data)
View(am_data)
x <- gsub("/", " ", am_data$date) #/를 공백으로 변경
View(am_data)
View(am_data)
x_frame <- data.frame(x)
names(x_frame)[1] <- "day"
names(x_frame)[2] <- "month"
x <- NULL
x <- gsub("/", " ", am_data$date)
x <- gsub("/", " ", am_data$date)
View(am_data)
View(am_data)
x <- NULL
x <- NULL
x <- gsub("/", " ", am_data$date) #/를 공백으로 변경
x <- strsplit(x, " ") # 공백으로 쪼개기
x <- t(matrix(unlist(x),3,159))
x <- strsplit(x, " ") # 공백으로 쪼개기
x <- t(matrix(unlist(x),3,159))
View(x_frame)
View(x_frame)
x_frame <- data.frame(x)
names(x_frame)[1] <- "day"
names(x_frame)[2] <- "month"
names(x_frame)[3] <- "year"
#Merge data
amtrak_data <- cbind(am_data, x_frame )
am_month_traffic <- sqldf("select month, passenger from amtrak_data broup by month")
install.packages("sqldf")
library('sqldf')
#Merge data
amtrak_data <- cbind(am_data, x_frame )
am_month_traffic <- sqldf("select month, passenger from amtrak_data broup by month")
g <- ggplot(data=am_month_traffic, aes(x=am_month_traffic$month, y=am_month_traffic$passenger))
am_month_traffic <- sqldf("select month, passenger from amtrak_data broup by month")
am_month_traffic <- sqldf("select month, passenger from amtrak_data group by month")
g <- ggplot(data=am_month_traffic, aes(x=am_month_traffic$month, y=am_month_traffic$passenger))
g+geom_line()
